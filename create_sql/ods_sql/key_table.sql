use ${hiveconf:ods_db};
create external table key_table(
  `id` int, 
  `proj_id` int, 
  `proj_name` string, 
  `organization_name` string, 
  `customer_id` int, 
  `key_number` string, 
  `user_number` string, 
  `usenewusbkey` string, 
  `key_making_person` string, 
  `keymakingplace` string, 
  `key_making_time` string, 
  `key_valid_days` int, 
  `cert_serialnamber` string, 
  `p7buff` string, 
  `certcsp` string, 
  `certdn` string, 
  `usbchipsetnumber` string, 
  `certreqchallenge` string, 
  `issuename` string, 
  `erroncertenroll` string, 
  `revocationresultonraapi` string, 
  `verify_person` string, 
  `verify_time` string, 
  `verify_result` string, 
  `verify_reject_reason` string, 
  `customer_primary_num` int, 
  `key_status` string, 
  `revocation_status` string, 
  `erroncertrevoke` string, 
  `revocation_person` string, 
  `revocation_time` string, 
  `revocation_reason` string, 
  `revocation_otherinfo` string, 
  `sccacustomerid` int, 
  `importtag` string, 
  `importserialnumber` string, 
  `updateresult` string, 
  `updatetime` string, 
  `id_char_1` string, 
  `id_char_2` string, 
  `id_char_3` string, 
  `id_char_4` string, 
  `id_int_1` int, 
  `id_int_2` int, 
  `istestcert` string, 
  `enrollcertbyraapi` string, 
  `version` int, 
  `logid` bigint, 
  `sealimagename` string, 
  `haseseal` string, 
  `deliveryby` string, 
  `productbatch` int, 
  `invoicestatus` string, 
  `invoicedelivertime` string, 
  `invoicedeliverperson` string, 
  `savedocopt` string, 
  `savedocdate` string, 
  `savedocperson` string, 
  `savedocmem` string, 
  `kt_parent_serialnamber` string, 
  `kt_modify_tag` string, 
  `kt_certbegindate_gmt` string, 
  `kt_certenddate_gmt` string, 
  `kt_certvaliddaysinra` int, 
  `kt_certvaliddaysbeforerevoke` int, 
  `kt_lastdateformodifycertinfoinra` string, 
  `cancelcharge` string, 
  `kaynote` string, 
  `kt_specialnote` string, 
  `keytable_signcertinstallresult` string, 
  `keytable_enccertinstallresult` string, 
  `keytable_signcontainername` string, 
  `keytable_enccontainername` string, 
  `keytable_signdate` string, 
  `keytable_enccertserialnumber` string, 
  `kt_firstcertserialnumber` string, 
  `kt_deletenote` string, 
  `kt_deleteperson` string, 
  `kt_customeridbeforedelete` int, 
  `kt_deletedate` string, 
  `kt_rarevokenote` string, 
  `kt_rarevokeresult` string, 
  `kt_rarevokedate` string, 
  `raapibegindatetime` string, 
  `raapienddatetime` string, 
  `raapicertsucseconds` int, 
  `raapicerterrorseconds` int, 
  `heximage` string)
comment 'key_table'
PARTITIONED BY (ymd string)
ROW FORMAT DELIMITED
FIELDS TERMINATED BY '\001'
LINES TERMINATED BY '\n'
STORED AS TEXTFILE
LOCATION "${hiveconf:ods_hdfs}/ods_db/key_table";